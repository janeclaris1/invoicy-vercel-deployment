@import "tailwindcss";

@theme {
  --font-display: "Times New Roman", Times, serif;
  --breakpoint-3xl: 1920px;
  --color-primary: #ff9324;
}

@layer base {
  html {
    font-family: var(--font-display);
    --dashboard-stat-label: #334155;
    --dashboard-stat-value: #0f172a;
  }

  /* Invoice templates: always white background and black text (all invoice-related pages) */
  .invoice-template {
    background-color: #ffffff !important;
    color: #111827;
  }
  .invoice-template h1,
  .invoice-template h2,
  .invoice-template h3,
  .invoice-template h4,
  .invoice-template h5,
  .invoice-template h6,
  .invoice-template p,
  .invoice-template span,
  .invoice-template label,
  .invoice-template small,
  .invoice-template li,
  .invoice-template td,
  .invoice-template th {
    color: #111827 !important;
  }
  .invoice-template .text-gray-900,
  .invoice-template .text-gray-800,
  .invoice-template .text-gray-700,
  .invoice-template .text-gray-600,
  .invoice-template .text-slate-900,
  .invoice-template .text-slate-800,
  .invoice-template .text-slate-700,
  .invoice-template .text-slate-600,
  .invoice-template .text-slate-500,
  .invoice-template .text-gray-500,
  .invoice-template .text-black {
    color: #111827 !important;
  }
  .invoice-template .bg-white,
  .invoice-template .bg-gray-50,
  .invoice-template .bg-slate-50,
  .invoice-template .bg-gray-100,
  .invoice-template .bg-slate-100,
  .invoice-template .invoice-print-container {
    background-color: #ffffff !important;
  }
  .invoice-template .border-gray-200,
  .invoice-template .border-slate-200,
  .invoice-template .invoice-print-container {
    border-color: #e5e7eb !important;
  }
  .invoice-template input,
  .invoice-template textarea,
  .invoice-template select {
    background-color: #ffffff !important;
    color: #111827 !important;
    border-color: #d1d5db !important;
  }
  .invoice-template a {
    color: #1d4ed8 !important;
  }

  /* Create Invoice form: light mode only – white text on dark background */
  html:not(.dark) form.invoice-template {
    background-color: #0f172a !important;
    color: #ffffff;
  }
  html:not(.dark) form.invoice-template h1,
  html:not(.dark) form.invoice-template h2,
  html:not(.dark) form.invoice-template h3,
  html:not(.dark) form.invoice-template h4,
  html:not(.dark) form.invoice-template h5,
  html:not(.dark) form.invoice-template h6,
  html:not(.dark) form.invoice-template p,
  html:not(.dark) form.invoice-template span,
  html:not(.dark) form.invoice-template label,
  html:not(.dark) form.invoice-template small,
  html:not(.dark) form.invoice-template li,
  html:not(.dark) form.invoice-template td,
  html:not(.dark) form.invoice-template th {
    color: #ffffff !important;
  }
  html:not(.dark) form.invoice-template .text-gray-900,
  html:not(.dark) form.invoice-template .text-gray-800,
  html:not(.dark) form.invoice-template .text-gray-700,
  html:not(.dark) form.invoice-template .text-gray-600,
  html:not(.dark) form.invoice-template .text-gray-500,
  html:not(.dark) form.invoice-template .text-slate-900,
  html:not(.dark) form.invoice-template .text-slate-800,
  html:not(.dark) form.invoice-template .text-slate-700,
  html:not(.dark) form.invoice-template .text-slate-600,
  html:not(.dark) form.invoice-template .text-slate-500,
  html:not(.dark) form.invoice-template .text-black {
    color: #ffffff !important;
  }
  html:not(.dark) form.invoice-template .bg-white,
  html:not(.dark) form.invoice-template .bg-gray-50,
  html:not(.dark) form.invoice-template .bg-slate-50,
  html:not(.dark) form.invoice-template .bg-gray-100,
  html:not(.dark) form.invoice-template .bg-slate-100 {
    background-color: #1e293b !important;
    border-color: #334155 !important;
  }
  html:not(.dark) form.invoice-template input,
  html:not(.dark) form.invoice-template textarea,
  html:not(.dark) form.invoice-template select {
    background-color: #1e293b !important;
    color: #ffffff !important;
    border-color: #334155 !important;
  }
  html:not(.dark) form.invoice-template select option {
    background-color: #1e293b;
    color: #ffffff;
  }
  html:not(.dark) form.invoice-template a {
    color: #93c5fd !important;
  }

  html.dark {
    --dashboard-stat-label: #ffffff;
    --dashboard-stat-value: #ffffff;
  }

  body {
    background-color: #fcfbfc;
    color: #111827;
  }

  html.dark body {
    background-color: #0b1220;
    color: #ffffff;
  }

  html.dark,
  html.dark body {
    color: #ffffff;
  }

  /* Primary and heading text: soft white for readability (avoid pure white everywhere) */
  html.dark h1,
  html.dark h2,
  html.dark h3,
  html.dark h4,
  html.dark h5,
  html.dark h6 {
    color: #f1f5f9 !important;
  }

  html.dark .bg-white,
  html.dark .bg-white\/80,
  html.dark .bg-white\/90,
  html.dark .bg-gray-50,
  html.dark .bg-gray-100,
  html.dark .bg-slate-50,
  html.dark .bg-slate-100,
  html.dark .bg-blue-50,
  html.dark .bg-emerald-100,
  html.dark .bg-amber-100,
  html.dark .bg-red-100 {
    background-color: #0f172a !important;
  }


  /* Body and neutral text: readable light gray (do not override semantic colors like text-blue-600) */
  html.dark p,
  html.dark span,
  html.dark label,
  html.dark small,
  html.dark li,
  html.dark td,
  html.dark th {
    color: #e2e8f0 !important;
  }

  html.dark a {
    color: #93c5fd !important;
  }

  html.dark input,
  html.dark textarea,
  html.dark select {
    background-color: #0f172a !important;
    color: #ffffff !important;
    border-color: #1f2937 !important;
  }

  html.dark .bg-white {
    background-color: #0f172a;
  }

  html.dark .bg-gray-50,
  html.dark .bg-slate-50 {
    background-color: #0b1220;
  }

  html.dark .text-gray-900,
  html.dark .text-gray-800,
  html.dark .text-slate-900,
  html.dark .text-slate-800 {
    color: #e2e8f0;
  }

  html.dark .text-gray-700,
  html.dark .text-slate-700 {
    color: #cbd5e1;
  }

  html.dark .text-gray-600,
  html.dark .text-gray-500,
  html.dark .text-slate-600,
  html.dark .text-slate-500 {
    color: #94a3b8;
  }

  html.dark .text-gray-400,
  html.dark .text-slate-400 {
    color: #64748b;
  }

  html.dark .border-gray-200,
  html.dark .border-slate-200 {
    border-color: #1f2937;
  }

  html:not(.dark) input.date-icon-white {
    color-scheme: dark;
  }

  html:not(.dark) input.date-icon-white::-webkit-calendar-picker-indicator {
    filter: invert(1) brightness(2);
    opacity: 1;
  }

  /* Invoice: do not change background in dark mode – keep white and dark text */
  html.dark .invoice-print-container,
  html.dark .invoice-print-container.bg-white {
    background-color: #ffffff !important;
  }
  html.dark .invoice-print-container .bg-white,
  html.dark .invoice-print-container .bg-gray-50,
  html.dark .invoice-print-container .bg-slate-50 {
    background-color: #ffffff !important;
  }
  html.dark .invoice-print-container h1,
  html.dark .invoice-print-container h2,
  html.dark .invoice-print-container h3,
  html.dark .invoice-print-container h4,
  html.dark .invoice-print-container h5,
  html.dark .invoice-print-container h6,
  html.dark .invoice-print-container p,
  html.dark .invoice-print-container span,
  html.dark .invoice-print-container label,
  html.dark .invoice-print-container td,
  html.dark .invoice-print-container th,
  html.dark .invoice-print-container li,
  html.dark .invoice-print-container small {
    color: #111827 !important;
  }
  html.dark .invoice-print-container .text-gray-900,
  html.dark .invoice-print-container .text-gray-800,
  html.dark .invoice-print-container .text-gray-700,
  html.dark .invoice-print-container .text-gray-600,
  html.dark .invoice-print-container .text-slate-900,
  html.dark .invoice-print-container .text-slate-800,
  html.dark .invoice-print-container .text-slate-700,
  html.dark .invoice-print-container .text-slate-600 {
    color: #111827 !important;
  }
  html.dark .invoice-print-container .border-gray-200,
  html.dark .invoice-print-container .border-slate-200 {
    border-color: #e5e7eb !important;
  }

  /* Dashboard stat cards: clear contrast in both themes (light: dark text, dark: white text); icons keep semantic color */
  html:not(.dark) .dashboard-stat-label {
    color: var(--dashboard-stat-label) !important;
  }
  html:not(.dark) .dashboard-stat-value {
    color: var(--dashboard-stat-value) !important;
  }
  html.dark .dashboard-stat-label,
  html.dark .dashboard-stat-value {
    color: #ffffff !important;
  }

  /* Stat cards: white bg in both themes (custom class, not .bg-white, so global dark override does not apply) */
  .stat-card-bg {
    background-color: #ffffff;
  }
  html.dark .stat-card-bg {
    background-color: #ffffff !important;
  }
  html.dark .stat-card-bg .dashboard-stat-label,
  html.dark .stat-card-bg .dashboard-stat-value {
    color: #0f172a !important;
  }
  html.dark .stat-card-bg .dashboard-stat-label {
    color: #334155 !important;
  }

  /* Print styles - hide layout elements when printing */
  @media print {
    /* Hide sidebar, navbar, and other layout elements */
    aside,
    header:not(#report-content),
    nav,
    .no-print,
    button[class*="print"] {
      display: none !important;
      visibility: hidden !important;
    }
    
    /* Hide all buttons and action elements */
    button,
    .btn,
    [role="button"],
    a[role="button"] {
      display: none !important;
      visibility: hidden !important;
    }
    
    /* Hide layout wrapper elements but preserve structure */
    .min-h-screen {
      min-height: auto !important;
    }
    
    /* Full width for content when printing */
    main,
    .flex-1 {
      margin-left: 0 !important;
      margin-right: 0 !important;
      padding-left: 0 !important;
      padding-right: 0 !important;
      width: 100% !important;
      max-width: 100% !important;
    }
    
    /* Ensure report content is visible */
    #report-content,
    #report-content * {
      display: block !important;
      visibility: visible !important;
    }
    
    /* Invoice print styles */
    .invoice-print-container,
    .invoice-print-container * {
      visibility: visible !important;
    }
    
    /* Reset body for printing */
    body {
      background: white !important;
      padding: 0 !important;
      margin: 0 !important;
      overflow: visible !important;
    }
    
    /* Hide scrollbars */
    html {
      overflow: visible !important;
    }
    
    /* Page margins */
    @page {
      margin: 0.5in;
      size: auto;
    }
    
    /* Ensure tables don't break awkwardly */
    table {
      page-break-inside: auto;
    }
    
    tr {
      page-break-inside: avoid;
      page-break-after: auto;
    }
    
    thead {
      display: table-header-group;
    }
    
    tfoot {
      display: table-footer-group;
    }
  }
}

/* Charts: always black text on white background (even in dark mode) */
html.dark .dashboard-chart-section,
html.dark .dashboard-chart-section h3,
html.dark .dashboard-chart-section p,
html.dark .dashboard-chart-section span,
html.dark .dashboard-chart-section .text-slate-500,
html.dark .dashboard-chart-section .text-slate-600,
html.dark .dashboard-chart-section .text-slate-900 {
  color: #111827 !important;
}
html.dark .dashboard-chart-section .bg-white {
  background-color: #ffffff !important;
}
/* Recharts axis and label text */
html.dark .dashboard-chart-section .recharts-text,
html.dark .dashboard-chart-section .recharts-cartesian-axis-tick-value {
  fill: #111827 !important;
}
